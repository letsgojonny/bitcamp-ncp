<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>ex07</title>
</head>
<body>
<h1>AJAX - 응용 IV: 공공데이터 오픈 API 호출</h1>
날짜: <input id="base_date" name="base_date"><br>
x좌표: <input id="nx" name="nx"><br>
y좌표: <input id="ny" name="ny"><br>
<button id="btn1">요청</button><br>
<textarea id="ta" cols="80" rows="10"></textarea>

<script>
"use strict"

var baseDate = document.querySelector("#base_date");
var nx = document.querySelector("#nx");
var ny = document.querySelector("#ny");
var ta = document.querySelector("#ta");

document.querySelector("#btn1").onclick = () => {
    var xhr = new XMLHttpRequest();
    xhr.open(
        "GET", 
        "http://localhost:3000/proxy2?base_date=" + base_date.value + "&nx=" + nx.value + "&ny=" + ny.value, 
        false);
    xhr.send();
    ta.value = xhr.responseText;
};

</script>
</body>
</html>





